{% extends "base.html" %}
{% from "table_todo.html" import render_table %}

{% block body %}

    <section class="header">
        <h2 class="title">{{ todolist.title|title }} </h2>
        <div class="row">
            <div class="open-todos">
                {{ render_table(todolist_details, current_user=current_user, todolist_id=todolist.id, todo_list=todolist) }}
            </div>
        </div>
        <div class="tags">
            {% for tags_lists in todolist.get_used_tags_row(current_user.b_show_all) %}
                <p>
                    {% for tag in tags_lists %}
                        <a class="b_hrefs"
                           href="{{ url_for("main.todolist", todolist_id=todolist.id, tag=tag) }}">{{ tag }}</a>
                    {% endfor %}
                    <a class="b_hrefs"
                       href="{{ url_for("main.todolist", todolist_id=todolist.id, tag='None') }}">All</a>
                </p>
            {% endfor %}
        </div>
        <div class="assigned_tos">
            {% for a_to in todolist.get_assigned_to_list(current_user.b_show_all) %}
                <a class="b_hrefs"
                   href="{{ url_for("main.todolist", todolist_id=todolist.id, assigned_to=a_to) }}">{{ a_to }}</a>
            {% endfor %}
            <a class="b_hrefs"
               href="{{ url_for("main.todolist", todolist_id=todolist.id, assigned_to='None') }}">All</a>
        </div>
        <div>
            <a class="b_hrefs"
               href="{{ url_for("main.todolist", todolist_id=todolist.id,tag='None', assigned_to='None') }}"><h6>
                All/All</h6></a>
        </div>
    </section>
{% endblock %}
